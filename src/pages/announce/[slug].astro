---
import Layout from '../../layouts/Layout.astro';
import BaseHead from '../../components/BaseHead.astro';
import { getCollection } from 'astro:content';
import FormattedDate from '../../components/FormattedDate.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../../consts';
import '../../styles/RightbarContainers/homepagerightbarcontainer.css';
import SideAnnouncement from '../../components/Side-Announcement.astro';
import Calendar from '../../components/Calendar.astro';
import { Content } from 'astro:content';

export async function getStaticPaths() {
    const posts = await getCollection('announce');

    return posts.map(post => ({
        params: { slug: post.slug },
        props: { post }
    }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---


<Layout>
    <BaseHead slot="head" title={SITE_TITLE} description={SITE_DESCRIPTION} />
        <h1>{post.data.title}ğŸ‰</h1>
        <p>ğŸ“…    {post.data.date}</p>
        <article class="announcecontent">
            <Content />
        </article>   


        <!--å³è¾¹æ -->
        <div slot="rightbar" class="homepagerightbarcontainer">
            <SideAnnouncement />
            <Calendar />
        </div>
</Layout>
<style is:global>
.announcecontent {
    line-height: 1.75;
    font-size: 1.2rem;
    color: #222;
}

/* æ ‡é¢˜ */
.announcecontent h1 {
    font-size: 2.5rem !important;
}
.announcecontent h2 {
    font-size: 2.3rem !important;
}
.announcecontent h3 {
    font-size: 2rem;
}

/* æ®µè½ */
.announcecontent p {
    margin: 0.8em 0;
}

/* å¼•ç”¨å— */
.announcecontent blockquote {
    border-left: 4px solid #ff7ba5;
    background: rgb(255, 183, 192, 0.05);
    border-radius: 2px;
    padding-left: 0.75rem 1rem;
    color: #555;
    font-style: normal;
    font-size: 1.2rem;
}

/* åˆ—è¡¨ */
.announcecontent ul,
.announcecontent ol {
    padding-left: 1.5em;
    margin: 0.6em 0;
}
.announcecontent li {
    margin: 0.3em 0;
}

/* è¡Œå†…ä»£ç  */
.announcecontent code {
    background: #f5f5f5;
    padding: 2px 4px;
    border-radius: 4px;
    font-size: 0.95em;
}

/* ä»£ç å— */
.announcecontent pre code {
    display: block;
    padding: 14px;
    border-radius: 8px;
    background: #f3f3f3;
    overflow-x: auto;
}

/* é“¾æ¥ */
.announcecontent a {
    color: rgb(255, 183, 192);
    text-decoration: none;
    font-weight: 500;
}
.announcecontent a:hover {
    text-decoration: underline;
    color: rgb(255, 183, 192);
}

/*To do listæ ·å¼*/
.announcecontent .task-list-item input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 1.1em;
    height: 1.1em;
    border: 2px solid var(--gray);
    border-radius: 4px;
    margin-right: 0.5em;
    cursor: default;
    vertical-align: middle;
}

/* æœªé€‰ä¸­ */
.announcecontent .task-list-item input[type="checkbox"]:not(:checked) {
    background: rgb(255, 183, 192, 0.3);
}

/* é€‰ä¸­æ ·å¼ */
.announcecontent .task-list-item input[type="checkbox"]:checked {
    background: rgb(255, 183, 192);
    position: relative;
}

/* æ‰“å‹¾ç¬¦å· */
.announcecontent .task-list-item input[type="checkbox"]:checked::after {
    content: "âœ”";
    color: white;
    position: absolute;
    font-size: 0.8em;
    left: 4px;
    top: 1px;
}

/* åˆ—è¡¨é¡¹æ ·å¼ */
.announcecontent .task-list-item {
    list-style: none;
}
</style>
